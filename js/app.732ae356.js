(function(e){function t(t){for(var a,c,i=t[0],o=t[1],l=t[2],u=0,v=[];u<i.length;u++)c=i[u],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&v.push(r[c][0]),r[c]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);d&&d(t);while(v.length)v.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,i=1;i<n.length;i++){var o=n[i];0!==r[o]&&(a=!1)}a&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={app:0},s=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/demo_calendar/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=o;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"10cd":function(e,t,n){},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id="4678"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[n("div",{staticClass:"d-flex align-center"},[e._v(" Demo_Calendar ")]),n("v-spacer"),n("div",[e._v(" "+e._s(e.userName)+" ")]),n("div",[e.isSignedIn?n("div",[n("button",{staticClass:"google-btn d-flex",attrs:{type:"button"},on:{click:function(t){return e.logout()}}},[n("div",{staticClass:"google-icon-wrapper"},[n("img",{staticClass:"google-icon",attrs:{src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg"}})]),n("div",{staticClass:"btn-text"},[n("b",[e._v("Logout")])])])]):e._e(),e.isSignedIn?e._e():n("button",{staticClass:"google-btn d-flex",attrs:{disabled:null===e.isSignedIn,type:"button"},on:{click:function(t){return e.login()}}},[n("div",{staticClass:"google-icon-wrapper"},[n("img",{staticClass:"google-icon",attrs:{src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg"}})]),n("div",{staticClass:"btn-text"},[n("b",[e._v("Login")])])])])],1),n("v-main",[n("div",[n("pre",{staticStyle:{"white-space":"pre-wrap"},attrs:{id:"content"}})]),n("calendar")],1)],1)},s=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("v-row",{staticClass:"fill-height"},[n("v-col",[n("v-sheet",{attrs:{height:"64"}},[n("v-toolbar",{attrs:{flat:""}},[n("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"grey darken-2"},on:{click:e.setToday}},[e._v(" Today ")]),n("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:e.prev}},[n("v-icon",{attrs:{small:""}},[e._v(" mdi-chevron-left ")])],1),n("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:e.next}},[n("v-icon",{attrs:{small:""}},[e._v(" mdi-chevron-right ")])],1),n("v-toolbar-title",[e._v(" "+e._s(e.year)+" 年 "+e._s(e.month)+" 月 ")]),n("v-spacer"),n("addEvent"),n("showRange")],1)],1),n("showEvent")],1)],1)],1)},i=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticClass:"mx-2",attrs:{depressed:"",fab:"",normal:"",tabindex:"-1",color:"blue"},on:{click:e.clearInput}},a),[n("v-icon",{attrs:{dark:""}},[e._v(" mdi-plus ")])],1)]}}]),model:{value:e.addItemOpen,callback:function(t){e.addItemOpen=t},expression:"addItemOpen"}},[n("v-card",{attrs:{color:"grey lighten-4","min-width":"350px","max-width":"600px",flat:""}},[n("v-card-title",[e._v(" 新增活動 ")]),n("v-card-text",[n("v-text-field",{attrs:{type:"text",placeholder:"活動標題"},model:{value:e.calendarItem.itemTitle,callback:function(t){e.$set(e.calendarItem,"itemTitle",t)},expression:"calendarItem.itemTitle"}}),n("v-checkbox",{attrs:{label:"全天"},model:{value:e.calendarItem.allDay,callback:function(t){e.$set(e.calendarItem,"allDay",t)},expression:"calendarItem.allDay"}}),n("div",{staticClass:"inputtime-container"},[n("div",{staticClass:"daytime-input"},[n("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{depressed:""}},a),[e._v(" 開始日期 "+e._s(e.calendarItem.startDate)+" ")])]}}])},[n("v-row",{attrs:{justify:"center"}},[n("v-date-picker",{attrs:{"show-week":"","show-adjacent-months":"","picker-date":""},model:{value:e.calendarItem.startDate,callback:function(t){e.$set(e.calendarItem,"startDate",t)},expression:"calendarItem.startDate"}})],1)],1),n("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({directives:[{name:"show",rawName:"v-show",value:!e.calendarItem.allDay,expression:"!calendarItem.allDay"}],attrs:{depressed:""},on:{click:function(t){return e.editInputStart()}}},a),[e._v(" 開始時間 "+e._s(e.calendarItem.startTime)+" ")])]}}])},[n("v-time-picker",{directives:[{name:"show",rawName:"v-show",value:e.startTimeInput,expression:"startTimeInput"}],attrs:{format:"ampm",landscape:""},model:{value:e.calendarItem.startTime,callback:function(t){e.$set(e.calendarItem,"startTime",t)},expression:"calendarItem.startTime"}},[n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.cancelInputStart()}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.saveInputStart()}}},[e._v(" OK ")])],1)],1)],1),n("div",{staticClass:"daytime-input"},[n("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{depressed:""}},a),[e._v(" 結束日期 "+e._s(e.calendarItem.endDate)+" ")])]}}])},[n("v-row",{attrs:{justify:"center"}},[n("v-date-picker",{attrs:{"picker-date":""},model:{value:e.calendarItem.endDate,callback:function(t){e.$set(e.calendarItem,"endDate",t)},expression:"calendarItem.endDate"}})],1)],1),n("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({directives:[{name:"show",rawName:"v-show",value:!e.calendarItem.allDay,expression:"!calendarItem.allDay"}],attrs:{depressed:""},on:{click:function(t){return e.editInputEnd()}}},a),[e._v(" 結束時間 "+e._s(e.calendarItem.endTime)+" ")])]}}])},[n("v-time-picker",{directives:[{name:"show",rawName:"v-show",value:e.endTimeInput,expression:"endTimeInput"}],attrs:{format:"ampm",landscape:""},model:{value:e.calendarItem.endTime,callback:function(t){e.$set(e.calendarItem,"endTime",t)},expression:"calendarItem.endTime"}},[n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.cancelInputEnd()}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.saveInputEnd()}}},[e._v(" OK ")])],1)],1)],1)]),n("div",{staticClass:"input-subtitle"},[e._v(" 日曆名稱 ")]),n("v-radio-group",{model:{value:e.calendarItem.calendarIndex,callback:function(t){e.$set(e.calendarItem,"calendarIndex",t)},expression:"calendarItem.calendarIndex"}},e._l(e.calendarLists,(function(e){return n("v-radio",{key:e.index,attrs:{label:e.summary,value:e.index,color:e.backgroundColor}})})),1),n("div",{staticClass:"input-subtitle"},[e._v(" 活動顏色 ")]),n("v-radio-group",{attrs:{row:""},model:{value:e.calendarItem.itemColorId,callback:function(t){e.$set(e.calendarItem,"itemColorId",t)},expression:"calendarItem.itemColorId"}},e._l(e.eventColors,(function(e,t){return n("v-radio",{key:e.index,attrs:{label:t,color:e.background,value:t}})})),1)],1),n("v-card-actions",[n("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:function(t){return e.addItem()}}},[e._v(" SAVE ")]),n("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){return e.cancelAdd()}}},[e._v(" Cancel ")])],1)],1)],1)},l=[],d={name:"addEvent",data:function(){return{startTimeInput:!1,endTimeInput:!1,currentInput:"",addItemOpen:!1,calendarItem:{itemTitle:"",startDate:"",startTime:"",endDate:"",endTime:"",calendarIndex:"",itemColorId:"",allDay:!1}}},mounted:function(){},methods:{addItem:function(){this.$store.dispatch("addEvent",this.calendarItem),this.addItemOpen=!1},editInputStart:function(){this.startTimeInput=!0,this.currentInput=this.calendarItem.startTime},editInputEnd:function(){this.endTimeInput=!0,this.currentInput=this.calendarItem.endTime},cancelInputStart:function(){this.calendarItem.startTime=this.currentInput,this.startTimeInput=!1},cancelInputEnd:function(){this.calendarItem.endTime=this.currentInput,this.endTimeInput=!1},saveInputStart:function(){this.startTimeInput=!1},saveInputEnd:function(){this.endTimeInput=!1},cancelAdd:function(){this.clearInput(),this.addItemOpen=!1},clearInput:function(){this.calendarItem.itemTitle="",this.calendarItem.startDate="",this.calendarItem.startTime="",this.calendarItem.endDate="",this.calendarItem.endTime="",this.calendarItem.calendarIndex="",this.calendarItem.itemColorId="",this.calendarItem.allDay=!1}},computed:{calendarLists:function(){return this.$store.state.calendarLists},eventColors:function(){return this.$store.state.eventColors}}},u=d,v=(n("8ed3"),n("2877")),m=n("6544"),f=n.n(m),p=n("8336"),h=n("b0af"),b=n("99d9"),I=n("ac7c"),y=n("2e4b"),g=n("132d"),j=n("e449"),k=n("67b6"),E=n("43a6"),T=n("0fd9"),D=n("8654"),x=n("c964"),_=Object(v["a"])(u,o,l,!1,null,"8f3e8784",null),w=_.exports;f()(_,{VBtn:p["a"],VCard:h["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCheckbox:I["a"],VDatePicker:y["a"],VIcon:g["a"],VMenu:j["a"],VRadio:k["a"],VRadioGroup:E["a"],VRow:T["a"],VTextField:D["a"],VTimePicker:x["a"]});var C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-sheet",{attrs:{height:"600"}},[n("v-calendar",{ref:"calendar",attrs:{color:"primary",events:e.events,"event-color":e.getEventColor,type:e.type},on:{"click:event":e.showEvent,"click:more":e.viewDay,"click:date":e.viewDay,change:e.logMonth},model:{value:e.focus,callback:function(t){e.focus=t},expression:"focus"}}),n("v-menu",{attrs:{"open-on-click":!1,"close-on-content-click":!1,activator:e.selectedElement,"offset-x":""},model:{value:e.selectedOpen,callback:function(t){e.selectedOpen=t},expression:"selectedOpen"}},[n("v-card",{attrs:{color:"grey lighten-4","min-width":"350px",flat:""}},[n("v-toolbar",{attrs:{color:e.selectedEvent.color,dark:""}},[n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.updateItem()}}},[n("v-icon",[e._v("mdi-pencil")])],1),e.index===e.editIndex?n("v-toolbar-title",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.calendarEvent.itemTitle,expression:"calendarEvent.itemTitle"}],attrs:{type:"text"},domProps:{value:e.calendarEvent.itemTitle},on:{input:function(t){t.target.composing||e.$set(e.calendarEvent,"itemTitle",t.target.value)}}})]):n("v-toolbar-title",{domProps:{innerHTML:e._s(e.selectedEvent.name)}}),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.deleteItem()}}},[n("v-icon",[e._v("mdi-delete")])],1)],1),e.index===e.editIndex?n("v-card-text",[n("v-checkbox",{attrs:{label:"全天"},on:{change:e.logCalendarEvent},model:{value:e.calendarEvent.allDay,callback:function(t){e.$set(e.calendarEvent,"allDay",t)},expression:"calendarEvent.allDay"}}),n("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{depressed:""}},a),[e._v(" 開始日期 "+e._s(e.calendarEvent.startDate)+" ")])]}}],null,!1,3076392111)},[n("v-row",{attrs:{justify:"center"}},[n("v-date-picker",{attrs:{"show-week":"","show-adjacent-months":"","picker-date":""},model:{value:e.calendarEvent.startDate,callback:function(t){e.$set(e.calendarEvent,"startDate",t)},expression:"calendarEvent.startDate"}})],1)],1),n("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({directives:[{name:"show",rawName:"v-show",value:!e.calendarEvent.allDay,expression:"!(calendarEvent.allDay)"}],attrs:{depressed:""},on:{click:function(t){return e.editInputStart()}}},a),[e._v(" 開始時間 "+e._s(e.calendarEvent.startTime)+" ")])]}}],null,!1,1306273621)},[n("v-time-picker",{directives:[{name:"show",rawName:"v-show",value:e.startTimeInput,expression:"startTimeInput"}],attrs:{format:"ampm",landscape:""},model:{value:e.calendarEvent.startTime,callback:function(t){e.$set(e.calendarEvent,"startTime",t)},expression:"calendarEvent.startTime"}},[n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.cancelInputStart()}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.saveInputStart()}}},[e._v(" OK ")])],1)],1),n("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{depressed:""}},a),[e._v(" 結束日期 "+e._s(e.calendarEvent.endDate)+" ")])]}}],null,!1,3361515247)},[n("v-row",{attrs:{justify:"center"}},[n("v-date-picker",{attrs:{"picker-date":""},model:{value:e.calendarEvent.endDate,callback:function(t){e.$set(e.calendarEvent,"endDate",t)},expression:"calendarEvent.endDate"}})],1)],1),n("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({directives:[{name:"show",rawName:"v-show",value:!e.calendarEvent.allDay,expression:"!(calendarEvent.allDay)"}],attrs:{depressed:""},on:{click:function(t){return e.editInputEnd()}}},a),[e._v(" 結束時間 "+e._s(e.calendarEvent.endTime)+" ")])]}}],null,!1,3566709818)},[n("v-time-picker",{directives:[{name:"show",rawName:"v-show",value:e.endTimeInput,expression:"endTimeInput"}],attrs:{format:"ampm",landscape:""},model:{value:e.calendarEvent.endTime,callback:function(t){e.$set(e.calendarEvent,"endTime",t)},expression:"calendarEvent.endTime"}},[n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.cancelInputEnd()}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.saveInputEnd()}}},[e._v(" OK ")])],1)],1),n("v-radio-group",{attrs:{row:""},model:{value:e.calendarEvent.colorId,callback:function(t){e.$set(e.calendarEvent,"colorId",t)},expression:"calendarEvent.colorId"}},[e._v("活動顏色 "),e._l(e.eventColors,(function(e,t){return n("v-radio",{key:e.index,attrs:{label:t,color:e.background,value:t}})}))],2)],1):n("v-card-text",[n("div",[e._v(" 開始日期 "+e._s(e.moment(e.selectedEvent.start).format("YYYY-MM-DD"))+" ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.selectedEvent.allDay,expression:"!(selectedEvent.allDay)"}]},[e._v(" 開始時間 "+e._s(e.moment(e.selectedEvent.start).format("LT"))+" ")]),n("div",[e._v(" 結束日期 "+e._s(e.moment(e.selectedEvent.end).format("YYYY-MM-DD"))+" ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.selectedEvent.allDay,expression:"!(selectedEvent.allDay)"}]},[e._v(" 結束時間 "+e._s(e.moment(e.selectedEvent.end).format("LT"))+" ")])]),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.saveUpdate()}}},[e._v(" Save ")]),n("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){return e.cancelUpdate()}}},[e._v(" Cancel ")])],1)],1)],1)],1)},$=[],O=(n("b0c0"),n("c1df")),S=n.n(O),V={name:"calendar",data:function(){return{selectedEvent:{start:null,end:null,allDay:null},selectedElement:null,selectedOpen:!1,calendarEvent:{itemTitle:"",startDate:"",startTime:"",endDate:"",endTime:"",allDay:null,itemColor:"",colorId:""},index:"",editIndex:"",startTimeInput:!1,endTimeInput:!1,currentInput:""}},mounted:function(){this.$refs.calendar.checkChange()},methods:{logCalendarEvent:function(){this.calendarEvent=Object.assign({},this.calendarEvent)},viewDay:function(e){var t=e.date;this.$store.commit("viewDate",t),this.$store.state.type="day"},getEventColor:function(e){return e.color},showEvent:function(e){var t=this,n=e.nativeEvent,a=e.event,r=e.eventParsed,s=function(){t.selectedEvent=a,t.selectedElement=n.target,t.selectedEvent.allDay=r.allDay,requestAnimationFrame((function(){return requestAnimationFrame((function(){return t.selectedOpen=!0}))})),t.index=r.index};this.selectedOpen?(this.selectedOpen=!1,requestAnimationFrame((function(){return requestAnimationFrame((function(){return s()}))}))):s(),n.stopPropagation()},updateItem:function(){this.editIndex=this.index,this.calendarEvent=this.selectedEvent,this.calendarEvent.allDay=this.selectedEvent.allDay,this.calendarEvent.itemTitle=this.selectedEvent.name,this.calendarEvent.startDate=S()(this.selectedEvent.start).format("YYYY-MM-DD"),this.calendarEvent.startTime=S()(this.selectedEvent.start).format("HH:mm"),this.calendarEvent.endDate=S()(this.selectedEvent.end).format("YYYY-MM-DD"),this.calendarEvent.endTime=S()(this.selectedEvent.end).format("HH:mm"),this.calendarEvent.colorId=this.selectedEvent.colorId,this.calendarEvent.itemColor=this.selectedEvent.color},saveUpdate:function(){this.$store.dispatch("saveEvent",[this.index,this.calendarEvent]),this.selectedOpen=!1,this.editIndex="",this.clearInput()},cancelUpdate:function(){this.selectedOpen=!1,this.editIndex="",this.clearInput()},editInputStart:function(){this.startTimeInput=!0,this.currentInput=this.calendarEvent.startTime},editInputEnd:function(){this.endTimeInput=!0,this.currentInput=this.calendarEvent.endTime},cancelInputStart:function(){this.calendarEvent.startTime=this.currentInput,this.startTimeInput=!1},cancelInputEnd:function(){this.calendarEvent.endTime=this.currentInput,this.endTimeInput=!1},saveInputStart:function(){this.startTimeInput=!1},saveInputEnd:function(){this.endTimeInput=!1},deleteItem:function(){this.$store.dispatch("deleteEvent",[this.selectedEvent,this.index]),this.selectedOpen=!1},logMonth:function(e){var t=e.start;this.$store.commit("displayMonth",[t.year,t.month])},clearInput:function(){this.calendarEvent=Object.assign({},{itemTitle:"",startDate:"",startTime:"",endDate:"",endTime:"",itemColor:"",colorId:"",allDay:null})}},computed:{type:function(){return this.$store.state.type},focus:{get:function(){return this.$store.state.focus},set:function(e){this.$store.state.focus=e}},eventColors:function(){return this.$store.state.eventColors},events:function(){return this.$store.state.events}}},M=V,L=n("a4f6"),Y=n("8dd9"),z=n("2fa4"),P=n("71d9"),R=n("2a7f"),N=Object(v["a"])(M,C,$,!1,null,null,null),A=N.exports;f()(N,{VBtn:p["a"],VCalendar:L["a"],VCard:h["a"],VCardActions:b["a"],VCardText:b["b"],VCheckbox:I["a"],VDatePicker:y["a"],VIcon:g["a"],VMenu:j["a"],VRadio:k["a"],VRadioGroup:E["a"],VRow:T["a"],VSheet:Y["a"],VSpacer:z["a"],VTimePicker:x["a"],VToolbar:P["a"],VToolbarTitle:R["a"]});var U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{attrs:{bottom:"",right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({attrs:{outlined:"",color:"grey darken-2"}},"v-btn",r,!1),a),[n("span",[e._v(e._s(e.typeToLabel))]),n("v-icon",{attrs:{right:""}},[e._v(" mdi-menu-down ")])],1)]}}])},[n("v-list",[n("v-list-item",{on:{click:function(t){return e.changeRangeDay()}}},[n("v-list-item-title",[e._v("Day")])],1),n("v-list-item",{on:{click:function(t){return e.changeRangeWeek()}}},[n("v-list-item-title",[e._v("Week")])],1),n("v-list-item",{on:{click:function(t){return e.changeRangeMonth()}}},[n("v-list-item-title",[e._v("Month")])],1),n("v-list-item",{on:{click:function(t){return e.changeRange4Day()}}},[n("v-list-item-title",[e._v("4 days")])],1)],1)],1)},H=[],q={name:"showRange",data:function(){return{}},mounted:function(){},methods:{changeRangeDay:function(){this.type="day",this.$store.commit("changeRange",this.type)},changeRangeWeek:function(){this.type="week",this.$store.commit("changeRange",this.type)},changeRangeMonth:function(){this.type="month",this.$store.commit("changeRange",this.type)},changeRange4Day:function(){this.type="4day",this.$store.commit("changeRange",this.type)}},computed:{typeToLabel:function(){return this.$store.state.typeToLabel[this.$store.state.type]}}},B=q,F=n("8860"),G=n("da13"),K=n("5d23"),W=Object(v["a"])(B,U,H,!1,null,null,null),J=W.exports;f()(W,{VBtn:p["a"],VIcon:g["a"],VList:F["a"],VListItem:G["a"],VListItemTitle:K["a"],VMenu:j["a"]});var Q={components:{addEvent:w,showEvent:A,showRange:J},name:"calendar",data:function(){return{}},mounted:function(){},methods:{setToday:function(){this.$store.commit("setToday")},prev:function(){this.$children[1].$refs.calendar.prev()},next:function(){this.$children[1].$refs.calendar.next()}},computed:{year:function(){return this.$store.state.currentYear},month:function(){return this.$store.state.currentMonth}}},X=Q,Z=n("62ad"),ee=Object(v["a"])(X,c,i,!1,null,null,null),te=ee.exports;f()(ee,{VBtn:p["a"],VCol:Z["a"],VIcon:g["a"],VRow:T["a"],VSheet:Y["a"],VSpacer:z["a"],VToolbar:P["a"],VToolbarTitle:R["a"]});var ne={name:"App",components:{calendar:te},data:function(){return{isSignedIn:null,userName:""}},created:function(){},mounted:function(){var e=this,t=this;this.$gapi.listenUserSignIn((function(t){e.isSignedIn=t})).then((function(){t.loadCalendarList(),t.displayUserName()}))},methods:{login:function(){var e=this;this.$gapi.login().then((function(){e.loadCalendarList(),e.displayUserName()}))},logout:function(){this.$gapi.logout(),this.userName="",this.$store.commit("clearEvents")},loadEvent:function(){this.$store.dispatch("loadEvent")},loadCalendarList:function(){var e=this;this.$store.dispatch("loadCalendarList").then((function(){return e.loadEvent()}))},displayUserName:function(){var e=this.$gapi.getUserData();e&&(this.userName=e.email)}},computed:{}},ae=ne,re=(n("bf11"),n("7496")),se=n("40dc"),ce=n("f6c4"),ie=Object(v["a"])(ae,r,s,!1,null,"2352a549",null),oe=ie.exports;f()(ie,{VApp:re["a"],VAppBar:se["a"],VMain:ce["a"],VSpacer:z["a"]});var le=n("3835"),de=(n("159b"),n("a434"),n("d3b7"),n("3ca3"),n("ddb0"),n("9ce4"));a["a"].use(de["a"]);var ue=new de["a"].Store({state:{token:null,events:[],focus:"",calendarLists:[],calendarColors:{},eventColors:{},type:"month",typeToLabel:{month:"Month",week:"Week",day:"Day","4day":"4 Days"},currentYear:"",currentMonth:""},mutations:{setCalendarList:function(e,t){t.forEach((function(t){e.calendarLists.push(t)}))},setColor:function(e,t){var n=Object(le["a"])(t,2),a=n[0],r=n[1];e.calendarColors=Object.assign({},a),e.eventColors=Object.assign({},r)},setEvents:function(e,t){var n=Object(le["a"])(t,3),a=n[0],r=n[1],s=n[2];a.forEach((function(t){t.calendarId=r,t.name=t.summary,t.calendarColorId=s,t.color=t.colorId?e.eventColors[t.colorId]["background"]:e.calendarColors[t.calendarColorId]["background"],t.timed=function(){var e=t.start;return"dateTime"in e}(),t.start=function(){var e=t.start;return"dateTime"in e?S()(t.start.dateTime).format("YYYY-MM-DD")+"T"+S()(t.start.dateTime).format("HH:mm"):t.start.date}(),t.end=function(){var e=t.end;if("dateTime"in e)return S()(t.end.dateTime).format("YYYY-MM-DD")+"T"+S()(t.end.dateTime).format("HH:mm");var n=new Date(t.end.date);return n.setDate(n.getDate()-1)}(),e.events.push(t)}))},addEvent:function(e,t){var n=Object(le["a"])(t,3),a=n[0],r=n[1],s=n[2],c=a.calendarIndex,i=e.calendarLists[c],o=i["colorId"];e.events.push({name:a.itemTitle,start:function(){return a.allDay?a.startDate:a.startDate+"T"+a.startTime}(),end:function(){return a.allDay?a.endDate:a.endDate+"T"+a.endTime}(),color:function(){return a.itemColorId?e.eventColors[a.itemColorId]["background"]:e.calendarColors[o]["background"]}(),timed:a.allDay,calendarId:r,id:s}),console.log(e.events)},changeRange:function(e,t){e.type=t},setToday:function(e){e.focus=""},viewDate:function(e,t){e.focus=t},saveEvent:function(e,t){var n=Object(le["a"])(t,2),a=n[0],r=n[1];e.events[a].name=r.itemTitle,e.events[a].start=function(){return r.allDay?r.startDate:r.startDate+"T"+r.startTime}(),e.events[a].end=function(){return r.allDay?r.endDate:r.endDate+"T"+r.endTime}(),e.events[a].color=r.colorId?e.eventColors[r.colorId].background:e.events[a].color},deleteEvent:function(e,t){e.events.splice(t,1)},clearEvents:function(e){e.events=[],e.calendarLists=[],e.calendarColors={},e.eventColors={}},displayMonth:function(e,t){var n=Object(le["a"])(t,2),a=n[0],r=n[1];e.currentYear=a,e.currentMonth=r}},actions:{loadCalendarList:function(){var e=this;return new Promise((function(t){var n=e,a=e._vm.$gapi.clientProvider.client,r=new Promise((function(e){a.gapi.client.calendar.calendarList.list({calendarId:"primary"}).then((function(t){var a=t.result.items;n.commit("setCalendarList",a),e()}))})),s=new Promise((function(e){a.gapi.client.calendar.colors.get({}).then((function(t){var a=t.result.calendar,r=t.result.event;n.commit("setColor",[a,r]),e()}))}));Promise.all([r,s]).then((function(){t()}))}))},loadEvent:function(){for(var e=this,t=this,n=this._vm.$gapi.clientProvider.client,a=function(a){n.gapi.client.calendar.events.list({calendarId:e.state.calendarLists[a].id,timeMax:new Date(2024,1,1).toISOString(),timeMin:new Date(2021,9,1).toISOString(),showDeleted:!1,singleEvents:!0,maxResults:20,orderBy:"startTime"}).then((function(e){var n=e.result.items,r=t.state.calendarLists[a].id,s=t.state.calendarLists[a].colorId;t.commit("setEvents",[n,r,s])}))},r=0;r<this.state.calendarLists.length;r++)a(r)},addEvent:function(e,t){var n=e.commit,a=this,r=this._vm.$gapi.clientProvider.client;r.gapi.client.calendar.events.insert({calendarId:a.state.calendarLists[t.calendarIndex]["id"],resource:{summary:t.itemTitle,start:function(){return t.allDay?{date:t.startDate}:{dateTime:new Date(t.startDate+" "+t.startTime).toISOString()}}(),end:function(){return t.allDay?{date:S()(t.endDate).add(1,"days").format("YYYY-MM-DD")}:{dateTime:new Date(t.endDate+" "+t.endTime).toISOString()}}(),colorId:function(){if(t.itemColorId)return t.itemColorId}()}}).then((function(e){var r=a.state.calendarLists[t.calendarIndex]["id"],s=e.result.id;n("addEvent",[t,r,s])}),(function(e){console.error("Execute error",e)}))},saveEvent:function(e,t){var n=e.commit,a=Object(le["a"])(t,2),r=a[0],s=a[1],c=this._vm.$gapi.clientProvider.client;c.gapi.client.calendar.events.update({calendarId:s.calendarId,eventId:s.id,resource:{summary:s.itemTitle,start:function(){return s.allDay?{date:s.startDate}:{dateTime:new Date(s.startDate+" "+s.startTime).toISOString()}}(),end:function(){return s.allDay?{date:S()(s.endDate).add(1,"days").format("YYYY-MM-DD")}:{dateTime:new Date(s.endDate+" "+s.endTime).toISOString()}}(),colorId:function(){return s.colorId,s.colorId}()}}).then((function(){n("saveEvent",[r,s])}),(function(e){console.error("Execute error",e)}))},deleteEvent:function(e,t){var n=e.commit,a=Object(le["a"])(t,2),r=a[0],s=a[1],c=this._vm.$gapi.clientProvider.client;c.gapi.client.calendar.events.delete({calendarId:r.calendarId,eventId:r.id}).then((function(){n("deleteEvent",s)}),(function(e){console.error("Execute error",e)}))}},getters:{},modules:{}}),ve=n("f309");a["a"].use(ve["a"]);var me=new ve["a"]({}),fe=n("15fd5"),pe=n.n(fe);a["a"].prototype.moment=S.a,a["a"].config.productionTip=!1,a["a"].use(pe.a,{apiKey:"AIzaSyBtALxqy0fusAShU5n7ecYoCQwcrNUxKwY",clientId:"642199378747-62svnibd4medlgj1ptd685ol8vf5l322.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],scope:"https://www.googleapis.com/auth/calendar"}),new a["a"]({store:ue,vuetify:me,render:function(e){return e(oe)}}).$mount("#app")},7200:function(e,t,n){},"8ed3":function(e,t,n){"use strict";n("7200")},bf11:function(e,t,n){"use strict";n("10cd")}});
//# sourceMappingURL=app.732ae356.js.map